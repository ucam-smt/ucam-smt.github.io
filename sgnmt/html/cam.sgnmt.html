

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>cam.sgnmt package &mdash; SGNMT 0.1 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  

  
    <link rel="top" title="SGNMT 0.1 documentation" href="index.html"/>
        <link rel="next" title="cam.sgnmt.blocks package" href="cam.sgnmt.blocks.html"/>
        <link rel="prev" title="Publications" href="publications.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> SGNMT
          

          
          </a>

          
            
            
              <div class="version">
                0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="setup.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="command_line.html">Command-line reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="predictors.html">Predictors</a></li>
<li class="toctree-l1"><a class="reference internal" href="decoders.html">Decoders</a></li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">Frequently Asked Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="publications.html">Publications</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">All modules</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#subpackages">Subpackages</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cam.sgnmt.blocks.html">cam.sgnmt.blocks package</a></li>
<li class="toctree-l3"><a class="reference internal" href="cam.sgnmt.decoding.html">cam.sgnmt.decoding package</a></li>
<li class="toctree-l3"><a class="reference internal" href="cam.sgnmt.predictors.html">cam.sgnmt.predictors package</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-cam.sgnmt.output">cam.sgnmt.output module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-cam.sgnmt.utils">cam.sgnmt.utils module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-cam.sgnmt">Module contents</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">SGNMT</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>cam.sgnmt package</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/cam.sgnmt.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="cam-sgnmt-package">
<h1>cam.sgnmt package<a class="headerlink" href="#cam-sgnmt-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="cam.sgnmt.blocks.html">cam.sgnmt.blocks package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="cam.sgnmt.blocks.html#subpackages">Subpackages</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cam.sgnmt.blocks.machine_translation.html">cam.sgnmt.blocks.machine_translation package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="cam.sgnmt.blocks.machine_translation.html#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="cam.sgnmt.blocks.machine_translation.html#module-cam.sgnmt.blocks.machine_translation.checkpoint">cam.sgnmt.blocks.machine_translation.checkpoint module</a></li>
<li class="toctree-l4"><a class="reference internal" href="cam.sgnmt.blocks.machine_translation.html#module-cam.sgnmt.blocks.machine_translation.configurations">cam.sgnmt.blocks.machine_translation.configurations module</a></li>
<li class="toctree-l4"><a class="reference internal" href="cam.sgnmt.blocks.machine_translation.html#module-cam.sgnmt.blocks.machine_translation.model">cam.sgnmt.blocks.machine_translation.model module</a></li>
<li class="toctree-l4"><a class="reference internal" href="cam.sgnmt.blocks.machine_translation.html#module-cam.sgnmt.blocks.machine_translation.org__init__">cam.sgnmt.blocks.machine_translation.org__init__ module</a></li>
<li class="toctree-l4"><a class="reference internal" href="cam.sgnmt.blocks.machine_translation.html#cam-sgnmt-blocks-machine-translation-org-main-module">cam.sgnmt.blocks.machine_translation.org__main__ module</a></li>
<li class="toctree-l4"><a class="reference internal" href="cam.sgnmt.blocks.machine_translation.html#module-cam.sgnmt.blocks.machine_translation.prepare_data">cam.sgnmt.blocks.machine_translation.prepare_data module</a></li>
<li class="toctree-l4"><a class="reference internal" href="cam.sgnmt.blocks.machine_translation.html#module-cam.sgnmt.blocks.machine_translation.sampling">cam.sgnmt.blocks.machine_translation.sampling module</a></li>
<li class="toctree-l4"><a class="reference internal" href="cam.sgnmt.blocks.machine_translation.html#module-cam.sgnmt.blocks.machine_translation.stream">cam.sgnmt.blocks.machine_translation.stream module</a></li>
<li class="toctree-l4"><a class="reference internal" href="cam.sgnmt.blocks.machine_translation.html#module-cam.sgnmt.blocks.machine_translation">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cam.sgnmt.blocks.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="cam.sgnmt.blocks.html#cam-sgnmt-blocks-decode-module">cam.sgnmt.blocks.decode module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cam.sgnmt.blocks.html#cam-sgnmt-blocks-train-module">cam.sgnmt.blocks.train module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cam.sgnmt.blocks.html#module-cam.sgnmt.blocks.ui">cam.sgnmt.blocks.ui module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cam.sgnmt.blocks.html#module-cam.sgnmt.blocks.vanilla_decoder">cam.sgnmt.blocks.vanilla_decoder module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cam.sgnmt.blocks.html#module-cam.sgnmt.blocks">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="cam.sgnmt.decoding.html">cam.sgnmt.decoding package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="cam.sgnmt.decoding.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="cam.sgnmt.decoding.html#module-cam.sgnmt.decoding.core">cam.sgnmt.decoding.core module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cam.sgnmt.decoding.html#module-cam.sgnmt.decoding.decoder">cam.sgnmt.decoding.decoder module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cam.sgnmt.decoding.html#module-cam.sgnmt.decoding.heuristics">cam.sgnmt.decoding.heuristics module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cam.sgnmt.decoding.html#module-cam.sgnmt.decoding">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="cam.sgnmt.predictors.html">cam.sgnmt.predictors package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="cam.sgnmt.predictors.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="cam.sgnmt.predictors.html#module-cam.sgnmt.predictors.automata">cam.sgnmt.predictors.automata module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cam.sgnmt.predictors.html#module-cam.sgnmt.predictors.blocks_neural">cam.sgnmt.predictors.blocks_neural module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cam.sgnmt.predictors.html#module-cam.sgnmt.predictors.forced">cam.sgnmt.predictors.forced module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cam.sgnmt.predictors.html#module-cam.sgnmt.predictors.grammar">cam.sgnmt.predictors.grammar module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cam.sgnmt.predictors.html#module-cam.sgnmt.predictors.length">cam.sgnmt.predictors.length module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cam.sgnmt.predictors.html#module-cam.sgnmt.predictors.misc">cam.sgnmt.predictors.misc module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cam.sgnmt.predictors.html#module-cam.sgnmt.predictors.ngram">cam.sgnmt.predictors.ngram module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cam.sgnmt.predictors.html#module-cam.sgnmt.predictors.nnlm">cam.sgnmt.predictors.nnlm module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cam.sgnmt.predictors.html#module-cam.sgnmt.predictors">Module contents</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-cam.sgnmt.output">
<span id="cam-sgnmt-output-module"></span><h2>cam.sgnmt.output module<a class="headerlink" href="#module-cam.sgnmt.output" title="Permalink to this headline">¶</a></h2>
<p>This module contains the output handlers. These handlers create
output files from the n-best lists generated by the <code class="docutils literal"><span class="pre">Decoder</span></code>. They
can be activated via &#8211;outputs.</p>
<p>This module depends on OpenFST to write FST files in binary format. To
enable Python support in OpenFST, use a recent version (&gt;=1.5.2) and
compile with <code class="docutils literal"><span class="pre">--enable_python</span></code>. Further information can be found here:</p>
<p><a class="reference external" href="http://www.openfst.org/twiki/bin/view/FST/PythonExtension">http://www.openfst.org/twiki/bin/view/FST/PythonExtension</a></p>
<dl class="class">
<dt id="cam.sgnmt.output.FSTOutputHandler">
<em class="property">class </em><code class="descclassname">cam.sgnmt.output.</code><code class="descname">FSTOutputHandler</code><span class="sig-paren">(</span><em>path</em>, <em>start_sen_id</em>, <em>unk_id</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cam/sgnmt/output.html#FSTOutputHandler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cam.sgnmt.output.FSTOutputHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#cam.sgnmt.output.OutputHandler" title="cam.sgnmt.output.OutputHandler"><code class="xref py py-class docutils literal"><span class="pre">cam.sgnmt.output.OutputHandler</span></code></a></p>
<p>This output handler creates FSTs with with sparse tuple arcs
from the n-best lists from the decoder. The predictor scores are
kept separately in the sparse tuples. Note that this means that
the parameter <code class="docutils literal"><span class="pre">--combination_scheme</span></code> might not be visible in the
lattices because predictor scores are not combined. The order in
the sparse tuples corresponds to the order of the predictors in
the <code class="docutils literal"><span class="pre">--predictors</span></code> argument.</p>
<p>Note that the created FSTs use another ID for UNK to avoid
confusion with the epsilon symbol used by OpenFST.</p>
<dl class="method">
<dt id="cam.sgnmt.output.FSTOutputHandler.write_hypos">
<code class="descname">write_hypos</code><span class="sig-paren">(</span><em>all_hypos</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cam/sgnmt/output.html#FSTOutputHandler.write_hypos"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cam.sgnmt.output.FSTOutputHandler.write_hypos" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes FST files with sparse tuples for each sentence in
<code class="docutils literal"><span class="pre">all_hypos</span></code>. The created lattices are not optimized in any
way: We create a distinct path for each entry in
<code class="docutils literal"><span class="pre">all_hypos</span></code>. We advise you to determinize/minimize them if
you are planning to use them for further processing.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>all_hypos</strong> (<em>list</em>) &#8211; list of nbest lists of hypotheses</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li>OSError. If the directory could not be created</li>
<li>IOError. If something goes wrong while writing to the disk</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cam.sgnmt.output.FSTOutputHandler.write_weight">
<code class="descname">write_weight</code><span class="sig-paren">(</span><em>score_breakdown</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cam/sgnmt/output.html#FSTOutputHandler.write_weight"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cam.sgnmt.output.FSTOutputHandler.write_weight" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper method to create the weight string</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="cam.sgnmt.output.NBestOutputHandler">
<em class="property">class </em><code class="descclassname">cam.sgnmt.output.</code><code class="descname">NBestOutputHandler</code><span class="sig-paren">(</span><em>path</em>, <em>predictor_names</em>, <em>start_sen_id</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cam/sgnmt/output.html#NBestOutputHandler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cam.sgnmt.output.NBestOutputHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#cam.sgnmt.output.OutputHandler" title="cam.sgnmt.output.OutputHandler"><code class="xref py py-class docutils literal"><span class="pre">cam.sgnmt.output.OutputHandler</span></code></a></p>
<p>Produces a n-best file in Moses format. The third part of each
entry is used to store the separated unnormalized predictor scores.
Note that the sentence IDs are shifted: Moses n-best files start
with the index 0, but in SGNMT and HiFST we usually refer to the
first sentence with 1 (e.g. in lattice directories or &#8211;range)</p>
<dl class="method">
<dt id="cam.sgnmt.output.NBestOutputHandler.write_hypos">
<code class="descname">write_hypos</code><span class="sig-paren">(</span><em>all_hypos</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cam/sgnmt/output.html#NBestOutputHandler.write_hypos"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cam.sgnmt.output.NBestOutputHandler.write_hypos" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes the hypotheses in <code class="docutils literal"><span class="pre">all_hypos</span></code> to <code class="docutils literal"><span class="pre">path</span></code></p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="cam.sgnmt.output.OutputHandler">
<em class="property">class </em><code class="descclassname">cam.sgnmt.output.</code><code class="descname">OutputHandler</code><a class="reference internal" href="_modules/cam/sgnmt/output.html#OutputHandler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cam.sgnmt.output.OutputHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Interface for output handlers.</p>
<dl class="method">
<dt id="cam.sgnmt.output.OutputHandler.write_hypos">
<code class="descname">write_hypos</code><span class="sig-paren">(</span><em>all_hypos</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cam/sgnmt/output.html#OutputHandler.write_hypos"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cam.sgnmt.output.OutputHandler.write_hypos" title="Permalink to this definition">¶</a></dt>
<dd><p>This method writes output files to the file system. The
configuration parameters such as output paths should already
have been provided via constructor arguments.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>all_hypos</strong> (<em>list</em>) &#8211; list of nbest lists of hypotheses</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body">IOError. If something goes wrong while writing to the disk</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="cam.sgnmt.output.StandardFSTOutputHandler">
<em class="property">class </em><code class="descclassname">cam.sgnmt.output.</code><code class="descname">StandardFSTOutputHandler</code><span class="sig-paren">(</span><em>path</em>, <em>start_sen_id</em>, <em>unk_id</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cam/sgnmt/output.html#StandardFSTOutputHandler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cam.sgnmt.output.StandardFSTOutputHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#cam.sgnmt.output.OutputHandler" title="cam.sgnmt.output.OutputHandler"><code class="xref py py-class docutils literal"><span class="pre">cam.sgnmt.output.OutputHandler</span></code></a></p>
<p>This output handler creates FSTs with standard arcs. In contrast
to <code class="docutils literal"><span class="pre">FSTOutputHandler</span></code>, predictor scores are combined using
<code class="docutils literal"><span class="pre">--combination_scheme</span></code>.</p>
<p>Note that the created FSTs use another ID for UNK to avoid
confusion with the epsilon symbol used by OpenFST.</p>
<dl class="method">
<dt id="cam.sgnmt.output.StandardFSTOutputHandler.write_hypos">
<code class="descname">write_hypos</code><span class="sig-paren">(</span><em>all_hypos</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cam/sgnmt/output.html#StandardFSTOutputHandler.write_hypos"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cam.sgnmt.output.StandardFSTOutputHandler.write_hypos" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes FST files with standard arcs for each
sentence in <code class="docutils literal"><span class="pre">all_hypos</span></code>. The created lattices are not
optimized in any way: We create a distinct path for each entry
in <code class="docutils literal"><span class="pre">all_hypos</span></code>. We advise you to determinize/minimize them if
you are planning to use them for further processing.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>all_hypos</strong> (<em>list</em>) &#8211; list of nbest lists of hypotheses</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li>OSError. If the directory could not be created</li>
<li>IOError. If something goes wrong while writing to the disk</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="cam.sgnmt.output.TextOutputHandler">
<em class="property">class </em><code class="descclassname">cam.sgnmt.output.</code><code class="descname">TextOutputHandler</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cam/sgnmt/output.html#TextOutputHandler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cam.sgnmt.output.TextOutputHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#cam.sgnmt.output.OutputHandler" title="cam.sgnmt.output.OutputHandler"><code class="xref py py-class docutils literal"><span class="pre">cam.sgnmt.output.OutputHandler</span></code></a></p>
<p>Writes the first best hypotheses to a plain text file</p>
<dl class="method">
<dt id="cam.sgnmt.output.TextOutputHandler.write_hypos">
<code class="descname">write_hypos</code><span class="sig-paren">(</span><em>all_hypos</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cam/sgnmt/output.html#TextOutputHandler.write_hypos"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cam.sgnmt.output.TextOutputHandler.write_hypos" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes the hypotheses in <code class="docutils literal"><span class="pre">all_hypos</span></code> to <code class="docutils literal"><span class="pre">path</span></code></p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-cam.sgnmt.utils">
<span id="cam-sgnmt-utils-module"></span><h2>cam.sgnmt.utils module<a class="headerlink" href="#module-cam.sgnmt.utils" title="Permalink to this headline">¶</a></h2>
<p>This file contains common basic functionality which can be used from
anywhere. This includes the definition of reserved word indices, some
mathematical functions, and helper functions to deal with the small
quirks python sometimes has.</p>
<dl class="data">
<dt id="cam.sgnmt.utils.EOS_ID">
<code class="descclassname">cam.sgnmt.utils.</code><code class="descname">EOS_ID</code><em class="property"> = 2</em><a class="headerlink" href="#cam.sgnmt.utils.EOS_ID" title="Permalink to this definition">¶</a></dt>
<dd><p>Reserved word ID for the end-of-sentence symbol.</p>
</dd></dl>

<dl class="data">
<dt id="cam.sgnmt.utils.GO_ID">
<code class="descclassname">cam.sgnmt.utils.</code><code class="descname">GO_ID</code><em class="property"> = 1</em><a class="headerlink" href="#cam.sgnmt.utils.GO_ID" title="Permalink to this definition">¶</a></dt>
<dd><p>Reserved word ID for the start-of-sentence symbol.</p>
</dd></dl>

<dl class="data">
<dt id="cam.sgnmt.utils.NOTAPPLICABLE_ID">
<code class="descclassname">cam.sgnmt.utils.</code><code class="descname">NOTAPPLICABLE_ID</code><em class="property"> = 3</em><a class="headerlink" href="#cam.sgnmt.utils.NOTAPPLICABLE_ID" title="Permalink to this definition">¶</a></dt>
<dd><p>Reserved word ID which is currently not used.</p>
</dd></dl>

<dl class="data">
<dt id="cam.sgnmt.utils.PAD_ID">
<code class="descclassname">cam.sgnmt.utils.</code><code class="descname">PAD_ID</code><em class="property"> = None</em><a class="headerlink" href="#cam.sgnmt.utils.PAD_ID" title="Permalink to this definition">¶</a></dt>
<dd><p>Reserved word ID for padding. Relict from the TensorFlow
implementation.</p>
</dd></dl>

<dl class="class">
<dt id="cam.sgnmt.utils.SimpleNode">
<em class="property">class </em><code class="descclassname">cam.sgnmt.utils.</code><code class="descname">SimpleNode</code><a class="reference internal" href="_modules/cam/sgnmt/utils.html#SimpleNode"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cam.sgnmt.utils.SimpleNode" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper class representing a node in a <code class="docutils literal"><span class="pre">SimpleTrie</span></code></p>
</dd></dl>

<dl class="class">
<dt id="cam.sgnmt.utils.SimpleTrie">
<em class="property">class </em><code class="descclassname">cam.sgnmt.utils.</code><code class="descname">SimpleTrie</code><a class="reference internal" href="_modules/cam/sgnmt/utils.html#SimpleTrie"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cam.sgnmt.utils.SimpleTrie" title="Permalink to this definition">¶</a></dt>
<dd><p>This is a very simple Trie implementation. It is simpler than
the one in <code class="docutils literal"><span class="pre">cam.sgnmt.predictors.grammar</span></code> because it does not
support non-terminals or removal. The only supported operations are
<code class="docutils literal"><span class="pre">add</span></code> and <code class="docutils literal"><span class="pre">get</span></code>, but those are implemented very efficiently.
For many applications (e.g. the cache in the greedy heuristic) this
is already enough.</p>
<dl class="method">
<dt id="cam.sgnmt.utils.SimpleTrie.add">
<code class="descname">add</code><span class="sig-paren">(</span><em>seq</em>, <em>element</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cam/sgnmt/utils.html#SimpleTrie.add"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cam.sgnmt.utils.SimpleTrie.add" title="Permalink to this definition">¶</a></dt>
<dd><p>Add an element to the Trie for the key <code class="docutils literal"><span class="pre">seq</span></code>. If <code class="docutils literal"><span class="pre">seq</span></code>
already exists, override.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>seq</strong> (<em>list</em>) &#8211; Key</li>
<li><strong>element</strong> (<em>object</em>) &#8211; The object to store for key <code class="docutils literal"><span class="pre">seq</span></code></li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cam.sgnmt.utils.SimpleTrie.get">
<code class="descname">get</code><span class="sig-paren">(</span><em>seq</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cam/sgnmt/utils.html#SimpleTrie.get"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cam.sgnmt.utils.SimpleTrie.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve the element for a key <code class="docutils literal"><span class="pre">seq</span></code>. If the key does not
exist, return <code class="docutils literal"><span class="pre">None</span></code>.</p>
</dd></dl>

</dd></dl>

<dl class="data">
<dt id="cam.sgnmt.utils.UNK_ID">
<code class="descclassname">cam.sgnmt.utils.</code><code class="descname">UNK_ID</code><em class="property"> = 0</em><a class="headerlink" href="#cam.sgnmt.utils.UNK_ID" title="Permalink to this definition">¶</a></dt>
<dd><p>Reserved word ID for the unknown word (UNK).</p>
</dd></dl>

<dl class="function">
<dt id="cam.sgnmt.utils.argmax">
<code class="descclassname">cam.sgnmt.utils.</code><code class="descname">argmax</code><span class="sig-paren">(</span><em>arr</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cam/sgnmt/utils.html#argmax"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cam.sgnmt.utils.argmax" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the index of the maximum entry in <code class="docutils literal"><span class="pre">arr</span></code>. The parameter can
be a dictionary.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>arr</strong> (<em>list,array,dict</em>) &#8211; Set of numerical values</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Index or key of the maximum entry in <code class="docutils literal"><span class="pre">arr</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="cam.sgnmt.utils.argmax_n">
<code class="descclassname">cam.sgnmt.utils.</code><code class="descname">argmax_n</code><span class="sig-paren">(</span><em>arr</em>, <em>n</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cam/sgnmt/utils.html#argmax_n"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cam.sgnmt.utils.argmax_n" title="Permalink to this definition">¶</a></dt>
<dd><p>Get indices of the <code class="docutils literal"><span class="pre">n</span></code> maximum entries in <code class="docutils literal"><span class="pre">arr</span></code>. The
parameter <code class="docutils literal"><span class="pre">arr</span></code> can be a dictionary. The returned index set is
not guaranteed to be sorted.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>arr</strong> (<em>list,array,dict</em>) &#8211; Set of numerical values</li>
<li><strong>n</strong> (<em>int</em>) &#8211; Number of values to retrieve</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">List of indices or keys of the <code class="docutils literal"><span class="pre">n</span></code> maximum entries in <code class="docutils literal"><span class="pre">arr</span></code></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="cam.sgnmt.utils.common_contains">
<code class="descclassname">cam.sgnmt.utils.</code><code class="descname">common_contains</code><span class="sig-paren">(</span><em>obj</em>, <em>key</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cam/sgnmt/utils.html#common_contains"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cam.sgnmt.utils.common_contains" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks the existence of a key or index in a mapping.
Works with numpy arrays, lists, and dicts.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>obj</strong> (<em>list,array,dict</em>) &#8211; Mapping</li>
<li><strong>key</strong> (<em>int</em>) &#8211; Index or key of the element to retrieve</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><code class="docutils literal"><span class="pre">True</span></code> if <code class="docutils literal"><span class="pre">key</span></code> in <code class="docutils literal"><span class="pre">obj</span></code>, otherwise <code class="docutils literal"><span class="pre">False</span></code></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="cam.sgnmt.utils.common_get">
<code class="descclassname">cam.sgnmt.utils.</code><code class="descname">common_get</code><span class="sig-paren">(</span><em>obj</em>, <em>key</em>, <em>default</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cam/sgnmt/utils.html#common_get"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cam.sgnmt.utils.common_get" title="Permalink to this definition">¶</a></dt>
<dd><p>Can be used to access an element via the index or key.
Works with numpy arrays, lists, and dicts.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>obj</strong> (<em>list,array,dict</em>) &#8211; Mapping</li>
<li><strong>key</strong> (<em>int</em>) &#8211; Index or key of the element to retrieve</li>
<li><strong>default</strong> (<em>object</em>) &#8211; </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><code class="docutils literal"><span class="pre">obj[key]</span></code> if <code class="docutils literal"><span class="pre">key</span></code> in <code class="docutils literal"><span class="pre">obj</span></code>, otherwise <code class="docutils literal"><span class="pre">default</span></code></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="cam.sgnmt.utils.common_iterable">
<code class="descclassname">cam.sgnmt.utils.</code><code class="descname">common_iterable</code><span class="sig-paren">(</span><em>obj</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cam/sgnmt/utils.html#common_iterable"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cam.sgnmt.utils.common_iterable" title="Permalink to this definition">¶</a></dt>
<dd><p>Can be used to iterate over the key-value pairs of a mapping.
Works with numpy arrays, lists, and dicts. Code taken from
<a class="reference external" href="http://stackoverflow.com/questions/12325608/iterate-over-a-dict-or-list-in-python">http://stackoverflow.com/questions/12325608/iterate-over-a-dict-or-list-in-python</a></p>
</dd></dl>

<dl class="function">
<dt id="cam.sgnmt.utils.common_viewkeys">
<code class="descclassname">cam.sgnmt.utils.</code><code class="descname">common_viewkeys</code><span class="sig-paren">(</span><em>obj</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cam/sgnmt/utils.html#common_viewkeys"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cam.sgnmt.utils.common_viewkeys" title="Permalink to this definition">¶</a></dt>
<dd><p>Can be used to iterate over the keys or indices of a mapping.
Works with numpy arrays, lists, and dicts. Code taken from
<a class="reference external" href="http://stackoverflow.com/questions/12325608/iterate-over-a-dict-or-list-in-python">http://stackoverflow.com/questions/12325608/iterate-over-a-dict-or-list-in-python</a></p>
</dd></dl>

<dl class="function">
<dt id="cam.sgnmt.utils.log_sum">
<code class="descclassname">cam.sgnmt.utils.</code><code class="descname">log_sum</code><span class="sig-paren">(</span><em>vals</em><span class="sig-paren">)</span><a class="headerlink" href="#cam.sgnmt.utils.log_sum" title="Permalink to this definition">¶</a></dt>
<dd><p>Defines which log summation function to use.</p>
</dd></dl>

<dl class="function">
<dt id="cam.sgnmt.utils.log_sum_log_semiring">
<code class="descclassname">cam.sgnmt.utils.</code><code class="descname">log_sum_log_semiring</code><span class="sig-paren">(</span><em>vals</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cam/sgnmt/utils.html#log_sum_log_semiring"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cam.sgnmt.utils.log_sum_log_semiring" title="Permalink to this definition">¶</a></dt>
<dd><p>Uses the <code class="docutils literal"><span class="pre">logsumexp</span></code> function in scipy to calculate the log of
the sum of a set of log values.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>vals</strong> (<em>set</em>) &#8211; List or set of numerical values</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="cam.sgnmt.utils.log_sum_tropical_semiring">
<code class="descclassname">cam.sgnmt.utils.</code><code class="descname">log_sum_tropical_semiring</code><span class="sig-paren">(</span><em>vals</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cam/sgnmt/utils.html#log_sum_tropical_semiring"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cam.sgnmt.utils.log_sum_tropical_semiring" title="Permalink to this definition">¶</a></dt>
<dd><p>Approximates summation in log space with the max.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>vals</strong> (<em>set</em>) &#8211; List or set of numerical values</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="cam.sgnmt.utils.switch_to_old_indexing">
<code class="descclassname">cam.sgnmt.utils.</code><code class="descname">switch_to_old_indexing</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/cam/sgnmt/utils.html#switch_to_old_indexing"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cam.sgnmt.utils.switch_to_old_indexing" title="Permalink to this definition">¶</a></dt>
<dd><p>Calling this method overrides the global definitions of the
reserved  word ids <code class="docutils literal"><span class="pre">PAD_ID</span></code>, <code class="docutils literal"><span class="pre">GO_ID</span></code>, <code class="docutils literal"><span class="pre">EOS_ID</span></code>, and <code class="docutils literal"><span class="pre">UNK_ID</span></code>
with the old scheme. The old scheme is used in older NMT models,
and is legacy from TensorFlow.</p>
</dd></dl>

</div>
<div class="section" id="module-cam.sgnmt">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-cam.sgnmt" title="Permalink to this headline">¶</a></h2>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="cam.sgnmt.blocks.html" class="btn btn-neutral float-right" title="cam.sgnmt.blocks package" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="publications.html" class="btn btn-neutral" title="Publications" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, University of Cambridge.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>