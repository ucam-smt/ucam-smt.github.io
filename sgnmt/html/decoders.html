

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Decoders &mdash; SGNMT 0.4.1 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  

  
    <link rel="top" title="SGNMT 0.4.1 documentation" href="index.html"/>
        <link rel="next" title="Examples" href="examples.html"/>
        <link rel="prev" title="Predictors" href="predictors.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> SGNMT
          

          
          </a>

          
            
            
              <div class="version">
                0.4.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="setup.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">Tutorial: Basics</a></li>
<li class="toctree-l1"><a class="reference internal" href="adding_components.html">Tutorial: Adding new components</a></li>
<li class="toctree-l1"><a class="reference internal" href="kyoto_nmt.html">Tutorial:  NMT decoding strategies</a></li>
<li class="toctree-l1"><a class="reference internal" href="command_line.html">Command-line reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="predictors.html">Predictors</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Decoders</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#available-decoders">Available decoders</a></li>
<li class="toctree-l2"><a class="reference internal" href="#relevant-modules">Relevant modules</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#cam-sgnmt-decoding-astar-module">cam.sgnmt.decoding.astar module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#cam-sgnmt-decoding-beam-module">cam.sgnmt.decoding.beam module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#cam-sgnmt-decoding-bigramgreedy-module">cam.sgnmt.decoding.bigramgreedy module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#cam-sgnmt-decoding-bow-module">cam.sgnmt.decoding.bow module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#cam-sgnmt-decoding-bucket-module">cam.sgnmt.decoding.bucket module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#cam-sgnmt-decoding-combibeam-module">cam.sgnmt.decoding.combibeam module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#cam-sgnmt-decoding-core-module">cam.sgnmt.decoding.core module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#cam-sgnmt-decoding-decoder-module">cam.sgnmt.decoding.decoder module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#cam-sgnmt-decoding-dfs-module">cam.sgnmt.decoding.dfs module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#cam-sgnmt-decoding-flip-module">cam.sgnmt.decoding.flip module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#cam-sgnmt-decoding-greedy-module">cam.sgnmt.decoding.greedy module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#cam-sgnmt-decoding-heuristics-module">cam.sgnmt.decoding.heuristics module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#cam-sgnmt-decoding-mbrbeam-module">cam.sgnmt.decoding.mbrbeam module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#cam-sgnmt-decoding-multisegbeam-module">cam.sgnmt.decoding.multisegbeam module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#cam-sgnmt-decoding-restarting-module">cam.sgnmt.decoding.restarting module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#cam-sgnmt-decoding-sepbeam-module">cam.sgnmt.decoding.sepbeam module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#cam-sgnmt-decoding-syncbeam-module">cam.sgnmt.decoding.syncbeam module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#cam-sgnmt-decoding-syntaxbeam-module">cam.sgnmt.decoding.syntaxbeam module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-contents">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">Common issues</a></li>
<li class="toctree-l1"><a class="reference internal" href="publications.html">Publications</a></li>
<li class="toctree-l1"><a class="reference internal" href="cam.sgnmt.html">All modules</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">SGNMT</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Decoders</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/decoders.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="decoders">
<h1>Decoders<a class="headerlink" href="#decoders" title="Permalink to this headline">¶</a></h1>
<p>Decoders are search strategies for traversing the search space which is spanned by the predictors.
Decoders are specified using the <code class="docutils literal"><span class="pre">--decoder</span></code> arguments.</p>
<div class="section" id="available-decoders">
<h2>Available decoders<a class="headerlink" href="#available-decoders" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><strong>greedy</strong>: Greedy decoding (similar to beam=1)</li>
<li><strong>beam</strong>: Beam search like in Bahdanau et al, 2015 .</li>
<li><strong>sepbeam</strong>: Associates predictors with hypos in beam search and applies only one predictor instead of all for hypo expansion.</li>
<li><strong>syncbeam</strong>: Beam search which compares after consuming a special synchronization symbol instead of after each iteration.</li>
<li><strong>syntaxbeam</strong>: Beam search which ensures diversity amongst terminal symbol histories.</li>
<li><strong>mbrbeam</strong>: Diversity encouraging beam search which maximizes the expected BLEU.</li>
<li><strong>combibeam</strong>: Beam search which applies <code class="docutils literal"><span class="pre">--combination_scheme</span></code> at each time step.</li>
<li><strong>multisegbeam</strong>: Beam search with multiple segmentations.</li>
<li><strong>dfs</strong>: Depth-first search. This should be used for exact decoding or the complete enumeration of the search space.
but it cannot be used if the search space is too large (like for unrestricted NMT) as it performs exhaustive search.
If you have not only negative predictor scores, set <code class="docutils literal"><span class="pre">--early_stopping</span></code> to false.</li>
<li><strong>restarting</strong>: Like DFS but with better admissible pruning behavior.</li>
<li><strong>astar</strong>: A* search. The heuristic function is configured using the <code class="docutils literal"><span class="pre">--heuristics</span> <span class="pre">options</span></code>.</li>
<li><strong>bucket</strong>: Works best for bag problems. Maintains buckets for each hypo length and extends a hypo in a bucket by one before selecting the next bucket.</li>
<li><strong>flip</strong>: This decoder works only for bag problems. It traverses the search space by switching two words in the hypothesis. Do not use bow predictor.</li>
<li><strong>bow</strong>: Restarting decoder optimized for bag-of-words problems.</li>
<li><strong>bigramgreedy</strong>: Works best for bag problems. Collects bigram statistics and constructs hypos to score by greedily selecting high scoring bigrams. Do not use bow predictor with this search strategy.</li>
<li><strong>vanilla</strong>: Original Blocks beam decoder. This bypasses the predictor framework and directly performs pure NMT beam
decoding on the GPU. Use this when you do pure NMT decoding as this is usually faster then using a single nmt predictor
as the search can be parallelized on the GPU.</li>
</ul>
<p>Detailed descriptions are available below in the modules.</p>
</div>
<div class="section" id="relevant-modules">
<h2>Relevant modules<a class="headerlink" href="#relevant-modules" title="Permalink to this headline">¶</a></h2>
<div class="section" id="cam-sgnmt-decoding-astar-module">
<h3>cam.sgnmt.decoding.astar module<a class="headerlink" href="#cam-sgnmt-decoding-astar-module" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="cam-sgnmt-decoding-beam-module">
<h3>cam.sgnmt.decoding.beam module<a class="headerlink" href="#cam-sgnmt-decoding-beam-module" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="cam-sgnmt-decoding-bigramgreedy-module">
<h3>cam.sgnmt.decoding.bigramgreedy module<a class="headerlink" href="#cam-sgnmt-decoding-bigramgreedy-module" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="cam-sgnmt-decoding-bow-module">
<h3>cam.sgnmt.decoding.bow module<a class="headerlink" href="#cam-sgnmt-decoding-bow-module" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="cam-sgnmt-decoding-bucket-module">
<h3>cam.sgnmt.decoding.bucket module<a class="headerlink" href="#cam-sgnmt-decoding-bucket-module" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="cam-sgnmt-decoding-combibeam-module">
<h3>cam.sgnmt.decoding.combibeam module<a class="headerlink" href="#cam-sgnmt-decoding-combibeam-module" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="cam-sgnmt-decoding-core-module">
<h3>cam.sgnmt.decoding.core module<a class="headerlink" href="#cam-sgnmt-decoding-core-module" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="cam-sgnmt-decoding-decoder-module">
<h3>cam.sgnmt.decoding.decoder module<a class="headerlink" href="#cam-sgnmt-decoding-decoder-module" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="cam-sgnmt-decoding-dfs-module">
<h3>cam.sgnmt.decoding.dfs module<a class="headerlink" href="#cam-sgnmt-decoding-dfs-module" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="cam-sgnmt-decoding-flip-module">
<h3>cam.sgnmt.decoding.flip module<a class="headerlink" href="#cam-sgnmt-decoding-flip-module" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="cam-sgnmt-decoding-greedy-module">
<h3>cam.sgnmt.decoding.greedy module<a class="headerlink" href="#cam-sgnmt-decoding-greedy-module" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="cam-sgnmt-decoding-heuristics-module">
<h3>cam.sgnmt.decoding.heuristics module<a class="headerlink" href="#cam-sgnmt-decoding-heuristics-module" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="cam-sgnmt-decoding-mbrbeam-module">
<h3>cam.sgnmt.decoding.mbrbeam module<a class="headerlink" href="#cam-sgnmt-decoding-mbrbeam-module" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="cam-sgnmt-decoding-multisegbeam-module">
<h3>cam.sgnmt.decoding.multisegbeam module<a class="headerlink" href="#cam-sgnmt-decoding-multisegbeam-module" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="cam-sgnmt-decoding-restarting-module">
<h3>cam.sgnmt.decoding.restarting module<a class="headerlink" href="#cam-sgnmt-decoding-restarting-module" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="cam-sgnmt-decoding-sepbeam-module">
<h3>cam.sgnmt.decoding.sepbeam module<a class="headerlink" href="#cam-sgnmt-decoding-sepbeam-module" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="cam-sgnmt-decoding-syncbeam-module">
<h3>cam.sgnmt.decoding.syncbeam module<a class="headerlink" href="#cam-sgnmt-decoding-syncbeam-module" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="cam-sgnmt-decoding-syntaxbeam-module">
<h3>cam.sgnmt.decoding.syntaxbeam module<a class="headerlink" href="#cam-sgnmt-decoding-syntaxbeam-module" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="module-contents">
<h3>Module contents<a class="headerlink" href="#module-contents" title="Permalink to this headline">¶</a></h3>
<p>This package contains the central interfaces for the decoder (in the
<code class="docutils literal"><span class="pre">core</span></code> module ), and the implementations of search strategies
(<code class="docutils literal"><span class="pre">Decoder</span></code>).</p>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="examples.html" class="btn btn-neutral float-right" title="Examples" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="predictors.html" class="btn btn-neutral" title="Predictors" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, University of Cambridge.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.4.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>