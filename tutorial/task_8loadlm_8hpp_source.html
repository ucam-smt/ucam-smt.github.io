<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Cambridge SMT System: task.loadlm.hpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Cambridge SMT System
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('task_8loadlm_8hpp_source.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">task.loadlm.hpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="task_8loadlm_8hpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">// Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">// you may not use these files except in compliance with the License.</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// You may obtain a copy of the License at</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">//    http://www.apache.org/licenses/LICENSE-2.0</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">// Unless required by applicable law or agreed to in writing, software</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">// distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">// See the License for the specific language governing permissions and</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">// limitations under the License.</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;</div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">// Copyright 2012 - Gonzalo Iglesias, Adri√† de Gispert, William Byrne</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;</div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#ifndef LOADLMTASK_HPP</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define LOADLMTASK_HPP</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="kenlmdetect_8hpp.html">kenlmdetect.hpp</a>&gt;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &lt;lm/config.hh&gt;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &lt;lm/enumerate_vocab.hh&gt;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#ifdef WITH_NPLM</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#include &lt;lm/wrappers/nplm.hh&gt;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#include &lt;<a class="code" href="idbridge_8hpp.html">idbridge.hpp</a>&gt;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="hifst__enumerate__vocab_8hpp.html">hifst_enumerate_vocab.hpp</a>&gt;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="keyword">namespace </span>ucam {</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="keyword">namespace </span>fsttools {</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment">// External wrapped-in implementations</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment">// don&#39;t necessarily have the same constructor.</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment">// This class handles the general case</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment">// and template specialization helps to handle exceptions</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="keyword">template</span>&lt;<span class="keyword">class</span> KenLMModelT&gt; </div>
<div class="line"><a name="l00042"></a><span class="lineno"><a class="line" href="structucam_1_1fsttools_1_1KenLMModelHelper.html">   42</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structucam_1_1fsttools_1_1KenLMModelHelper.html">KenLMModelHelper</a> {</div>
<div class="line"><a name="l00043"></a><span class="lineno"><a class="line" href="structucam_1_1fsttools_1_1KenLMModelHelper.html#ad27dccf5bfb5cbb1cf8d6c6594ac1831">   43</a></span>&#160;  std::string <span class="keyword">const</span> <a class="code" href="structucam_1_1fsttools_1_1KenLMModelHelper.html#ad27dccf5bfb5cbb1cf8d6c6594ac1831">file_</a>;</div>
<div class="line"><a name="l00044"></a><span class="lineno"><a class="line" href="structucam_1_1fsttools_1_1KenLMModelHelper.html#a1eceb3574ddf7951f6ca5e630e25ade7">   44</a></span>&#160;  lm::ngram::Config &amp;<a class="code" href="structucam_1_1fsttools_1_1KenLMModelHelper.html#a1eceb3574ddf7951f6ca5e630e25ade7">kenlm_config_</a>;</div>
<div class="line"><a name="l00045"></a><span class="lineno"><a class="line" href="structucam_1_1fsttools_1_1KenLMModelHelper.html#ab749679640d656142efa977d6cacaae6">   45</a></span>&#160;  <a class="code" href="structucam_1_1fsttools_1_1KenLMModelHelper.html#ab749679640d656142efa977d6cacaae6">KenLMModelHelper</a>(std::string <span class="keyword">const</span> &amp;file</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;                   , lm::ngram::Config kenlm_config)</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    : <a class="code" href="structucam_1_1fsttools_1_1KenLMModelHelper.html#ad27dccf5bfb5cbb1cf8d6c6594ac1831">file_</a>(file)</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    , <a class="code" href="structucam_1_1fsttools_1_1KenLMModelHelper.html#a1eceb3574ddf7951f6ca5e630e25ade7">kenlm_config_</a>(kenlm_config)</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;  {}</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    </div>
<div class="line"><a name="l00051"></a><span class="lineno"><a class="line" href="structucam_1_1fsttools_1_1KenLMModelHelper.html#ab415ec43cd90d501129abcf87d62be9c">   51</a></span>&#160;  KenLMModelT *<a class="code" href="structucam_1_1fsttools_1_1KenLMModelHelper.html#ab415ec43cd90d501129abcf87d62be9c">operator()</a>(){</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">new</span> KenLMModelT ( <a class="code" href="structucam_1_1fsttools_1_1KenLMModelHelper.html#ad27dccf5bfb5cbb1cf8d6c6594ac1831">file_</a>.c_str() , <a class="code" href="structucam_1_1fsttools_1_1KenLMModelHelper.html#a1eceb3574ddf7951f6ca5e630e25ade7">kenlm_config_</a>);</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;  }</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;};</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="preprocessor">#ifdef WITH_NPLM</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="preprocessor"></span><span class="comment">// Specialization for NPLM:</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="keyword">template</span>&lt;&gt;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="keyword">struct </span>KenLMModelHelper&lt;lm::np::Model&gt; {</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;  std::string <span class="keyword">const</span> <a class="code" href="structucam_1_1fsttools_1_1KenLMModelHelper.html#ad27dccf5bfb5cbb1cf8d6c6594ac1831">file_</a>;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;  lm::ngram::Config &amp;<a class="code" href="structucam_1_1fsttools_1_1KenLMModelHelper.html#a1eceb3574ddf7951f6ca5e630e25ade7">kenlm_config_</a>;</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;  <a class="code" href="structucam_1_1fsttools_1_1KenLMModelHelper.html#ab749679640d656142efa977d6cacaae6">KenLMModelHelper</a>(std::string <span class="keyword">const</span> &amp;file</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;                   , lm::ngram::Config kenlm_config)</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    : <a class="code" href="structucam_1_1fsttools_1_1KenLMModelHelper.html#ad27dccf5bfb5cbb1cf8d6c6594ac1831">file_</a>(file)</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    , <a class="code" href="structucam_1_1fsttools_1_1KenLMModelHelper.html#a1eceb3574ddf7951f6ca5e630e25ade7">kenlm_config_</a>(kenlm_config)</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;  {}</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;  lm::np::Model *<a class="code" href="structucam_1_1fsttools_1_1KenLMModelHelper.html#ab415ec43cd90d501129abcf87d62be9c">operator()</a>(){</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">new</span> lm::np::Model( <a class="code" href="structucam_1_1fsttools_1_1KenLMModelHelper.html#ad27dccf5bfb5cbb1cf8d6c6594ac1831">file_</a>);</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;  }</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;};</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00074"></a><span class="lineno"><a class="line" href="namespaceucam_1_1fsttools.html#a83594398c26029ccd4c69e7c7e16fa5c">   74</a></span>&#160;lm::base::Model *<a class="code" href="namespaceucam_1_1fsttools.html#a83594398c26029ccd4c69e7c7e16fa5c">loadKenLm</a>(std::string <span class="keyword">const</span> &amp;file</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;                           , lm::ngram::Config kenlm_config </div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;                           , <span class="keywordtype">unsigned</span> offset = 0) {</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;  <span class="keyword">using namespace </span>lm::ngram;                                 </div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;  <span class="keyword">typedef</span> lm::np::Model NplmModel;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;  <span class="comment">// Detect here kenlm binary type</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;  <span class="keywordtype">int</span>  kenmt = ucam::util::detectkenlm(file);</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;  <span class="keywordflow">switch</span> (kenmt) {</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;  <span class="keywordflow">case</span> PROBING:</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="structucam_1_1fsttools_1_1KenLMModelHelper.html">KenLMModelHelper&lt;ProbingModel&gt;</a>(file, kenlm_config)();</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;  <span class="keywordflow">case</span> REST_PROBING:</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="structucam_1_1fsttools_1_1KenLMModelHelper.html">KenLMModelHelper&lt;RestProbingModel&gt;</a>(file, kenlm_config)();</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;  <span class="keywordflow">case</span> TRIE:</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="structucam_1_1fsttools_1_1KenLMModelHelper.html">KenLMModelHelper&lt;TrieModel&gt;</a>(file, kenlm_config)();</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160; <span class="keywordflow">case</span> QUANT_TRIE:</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="structucam_1_1fsttools_1_1KenLMModelHelper.html">KenLMModelHelper&lt;QuantTrieModel&gt;</a>(file, kenlm_config)();</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160; <span class="keywordflow">case</span> ARRAY_TRIE:</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="structucam_1_1fsttools_1_1KenLMModelHelper.html">KenLMModelHelper&lt;ArrayTrieModel&gt;</a>(file, kenlm_config)();</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160; <span class="keywordflow">case</span> QUANT_ARRAY_TRIE:</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="structucam_1_1fsttools_1_1KenLMModelHelper.html">KenLMModelHelper&lt;QuantArrayTrieModel&gt;</a>(file, kenlm_config)();</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160; <span class="keywordflow">case</span> util::KENLM_NPLM:</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="preprocessor">#ifdef WITH_NPLM</span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="preprocessor"></span>    <span class="keywordflow">return</span> <a class="code" href="structucam_1_1fsttools_1_1KenLMModelHelper.html">KenLMModelHelper&lt;NplmModel&gt;</a>(file, kenlm_config)();</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<span class="preprocessor"></span>    <a class="code" href="logger_8boost__log_8hpp.html#ad364e6e39b7970e4548d99dc3c0c68cc">LERROR</a>(<span class="stringliteral">&quot;Unsuported format: KENLM_NPLM. Did you compile NPLM library?&quot;</span>);</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    exit(EXIT_FAILURE);</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;  }</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;  <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;};</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> Data&gt;</div>
<div class="line"><a name="l00114"></a><span class="lineno"><a class="line" href="classucam_1_1fsttools_1_1LoadLanguageModelTask.html">  114</a></span>&#160;<span class="keyword">class </span><a class="code" href="classucam_1_1fsttools_1_1LoadLanguageModelTask.html">LoadLanguageModelTask</a>: <span class="keyword">public</span> <a class="code" href="classucam_1_1util_1_1TaskInterface.html">ucam::util::TaskInterface</a>&lt;Data&gt; {</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  </div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;  <span class="keyword">typedef</span> lm::base::Model KenLMModelT;</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;  <span class="keywordtype">bool</span> built_;</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;  <a class="code" href="classucam_1_1util_1_1PatternAddress.html">ucam::util::IntegerPatternAddress</a> lmfile_;</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;  std::string previous_;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;  uint lmo_;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;  <a class="code" href="structucam_1_1fsttools_1_1KenLMData.html">KenLMData</a> kld_;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  uint index_;</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;  std::string lmkey_;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;  <span class="keyword">const</span> <a class="code" href="classucam_1_1util_1_1RegistryPO.html">ucam::util::RegistryPO</a>&amp; rg_;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  <span class="keyword">const</span> std::string wordmapkey_;</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  <span class="keywordtype">bool</span> isintegermapped_;</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;</div>
<div class="line"><a name="l00154"></a><span class="lineno"><a class="line" href="classucam_1_1fsttools_1_1LoadLanguageModelTask.html#aa0487a790a4d7181bb22c16f1477bdd1">  154</a></span>&#160;  <a class="code" href="classucam_1_1fsttools_1_1LoadLanguageModelTask.html#aa0487a790a4d7181bb22c16f1477bdd1">LoadLanguageModelTask</a> ( <span class="keyword">const</span> <a class="code" href="classucam_1_1util_1_1RegistryPO.html">ucam::util::RegistryPO</a>&amp; rg ,</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;                          <span class="keyword">const</span> std::string&amp; lmload = <a class="code" href="namespaceHifstConstants.html#aa42b4603e57486c7d8509f7495f776fc">HifstConstants::kLmLoad</a> ,</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;                          <span class="keyword">const</span> std::string&amp; lmscale =</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;                            <a class="code" href="namespaceHifstConstants.html#a922a20cdf8305f360766bea0e7790127">HifstConstants::kLmFeatureweights</a>,  <span class="comment">//if rg.get(lmscale)==&quot;&quot; the scale will default to 1</span></div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;                          <span class="keyword">const</span> std::string&amp; lmwp =</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;                            <a class="code" href="namespaceHifstConstants.html#a746bc28f6755d48e152a1c08ea843c42">HifstConstants::kLmWordPenalty</a>,  <span class="comment">//if rg.get(wps)==&quot;&quot; the scale will default to 0</span></div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;                          <span class="keyword">const</span> std::string&amp; wordmapkey = <a class="code" href="namespaceHifstConstants.html#a9e5c8ac3695644e1b68f452186684ad2">HifstConstants::kLmWordmap</a>,</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;                          <span class="keywordtype">bool</span> forceone = <span class="keyword">false</span></div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;                        ) :</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    rg_ ( rg ),</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    lmkey_ ( lmload ),</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    previous_ ( <span class="stringliteral">&quot;&quot;</span> ),</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    built_ ( false ),</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    index_ ( 0 ),</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    isintegermapped_ (!rg.<a class="code" href="namespaceucam_1_1util.html#a63f2e665e982de5cc1e2a601cb559de1">exists</a> (wordmapkey)</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;                      || rg.get&lt;std::string&gt; (wordmapkey) == <span class="stringliteral">&quot;&quot;</span>),</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    wordmapkey_ (wordmapkey),</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    lmfile_ ( rg.getVectorString ( lmload , 0 ) ) {</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    <a class="code" href="logger_8boost__log_8hpp.html#adf127ca2262cc160830da49c37d04e85">LINFO</a> ( <span class="stringliteral">&quot;LM loader using parameters &quot;</span> &lt;&lt; lmload &lt;&lt; <span class="stringliteral">&quot;/&quot;</span> &lt;&lt; lmscale &lt;&lt; <span class="stringliteral">&quot;/&quot;</span> &lt;&lt; lmwp</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;            &lt;&lt; <span class="stringliteral">&quot;, and key &quot;</span> &lt;&lt; lmkey_  &lt;&lt; <span class="stringliteral">&quot;,index=&quot;</span> &lt;&lt; index_ &lt;&lt; <span class="stringliteral">&quot;,wordmap=&quot;</span> &lt;&lt;</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;            wordmapkey_);</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    setLanguageModelScale ( lmscale );</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    setLanguageModelWordPenalty ( lmwp );</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <span class="keywordflow">if</span> ( rg_.<a class="code" href="classucam_1_1util_1_1RegistryPO.html#a498b76353f978a417809cc13bdce9954">getVectorString</a> ( lmload ).size() &gt; 1 ) {</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;      <span class="keywordflow">if</span> ( !forceone ) {</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;        <a class="code" href="logger_8boost__log_8hpp.html#adf127ca2262cc160830da49c37d04e85">LINFO</a> ( <span class="stringliteral">&quot;Appending Language model...&quot;</span> );</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        this-&gt;<a class="code" href="classucam_1_1util_1_1TaskInterface.html#ab4cbde1f927b89d774b0dbbcb97f0760">appendTask</a> ( <span class="keyword">new</span> <a class="code" href="classucam_1_1fsttools_1_1LoadLanguageModelTask.html">LoadLanguageModelTask</a> ( rg_, 1, lmload, lmscale , lmwp ,</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;                           wordmapkey ) );</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;        <a class="code" href="logger_8boost__log_8hpp.html#a6ffaab1d2d66f7f82bb45ce32e7e48e4">LWARN</a> ( <span class="stringliteral">&quot;Only one loaded for &quot;</span> &lt;&lt; lmload &lt;&lt;</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;                <span class="stringliteral">&quot;. Extra language models are being ignored&quot;</span> );</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;      }</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    }</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    <a class="code" href="logger_8boost__log_8hpp.html#adf127ca2262cc160830da49c37d04e85">LINFO</a> ( <span class="stringliteral">&quot;Finished constructor!&quot;</span> );</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;  };</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;</div>
<div class="line"><a name="l00195"></a><span class="lineno"><a class="line" href="classucam_1_1fsttools_1_1LoadLanguageModelTask.html#a449774425d2dd2eed93c5f42fda471bf">  195</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classucam_1_1fsttools_1_1LoadLanguageModelTask.html#a449774425d2dd2eed93c5f42fda471bf">run</a> ( Data&amp; d ) {</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <a class="code" href="logger_8boost__log_8hpp.html#adf127ca2262cc160830da49c37d04e85">LINFO</a> ( <span class="stringliteral">&quot;run!&quot;</span> );</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <span class="keywordflow">if</span> ( lmfile_() == <span class="stringliteral">&quot;&quot;</span> ) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <span class="comment">// No need to build again...</span></div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <span class="keywordflow">if</span> ( built_ &amp;&amp; previous_ == lmfile_ ( d.sidx ) ) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <a class="code" href="classucam_1_1fsttools_1_1LoadLanguageModelTask.html#aba3bf772e7ee360661c193cfeff9fe30">close</a>();</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <a class="code" href="logger_8boost__log_8hpp.html#a0ffb18b9a8e38dc6c286330ecde7b330">FORCELINFO</a> ( <span class="stringliteral">&quot;loading LM=&quot;</span> &lt;&lt; lmfile_ ( d.sidx ) );</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    d.stats-&gt;setTimeStart (<span class="stringliteral">&quot;lm-load-&quot;</span> + index_ );</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    lm::ngram::Config kenlm_config;</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <span class="comment">// If lm is not integermapped, then we will need a proper grammar target wordmap.</span></div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <span class="comment">// Make sure we have it.</span></div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <a class="code" href="classucam_1_1util_1_1WordMapper.html">ucam::util::WordMapper</a> *wm = NULL;</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <span class="keywordflow">if</span> (!isintegermapped_) {</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;      <a class="code" href="logger_8boost__log_8hpp.html#adf127ca2262cc160830da49c37d04e85">LINFO</a> (<span class="stringliteral">&quot;Using wordmap &quot;</span> &lt;&lt; wordmapkey_);</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;      <a class="code" href="logger_8boost__log_8hpp.html#adf127ca2262cc160830da49c37d04e85">LINFO</a> (<span class="stringliteral">&quot;There are &quot;</span> &lt;&lt; d.wm.size() &lt;&lt; <span class="stringliteral">&quot; wordmaps&quot;</span>);</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;      <a class="code" href="custom__assert_8hpp.html#a9c40815aec8dd07daee741da5b494a35">USER_CHECK</a> (d.wm.find (wordmapkey_) != d.wm.end()</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;                  , <span class="stringliteral">&quot;Language model provided over words instead of integers. A target wordmap is required! &quot;</span>);</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;      wm = d.wm[wordmapkey_];</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    }</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    <a class="code" href="classlm_1_1HifstEnumerateVocab.html">lm::HifstEnumerateVocab</a> hev (kld_.<a class="code" href="structucam_1_1fsttools_1_1KenLMData.html#abfbfe30695967d958c54e559e02a9a07">idb</a>, wm);</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    kenlm_config.enumerate_vocab = &amp;hev;</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    kld_.<a class="code" href="structucam_1_1fsttools_1_1KenLMData.html#adab851678d21f2f8b4e2c0e439b23723">model</a> = <a class="code" href="namespaceucam_1_1fsttools.html#a83594398c26029ccd4c69e7c7e16fa5c">loadKenLm</a>(lmfile_(d.sidx).c_str(), kenlm_config, index_);</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    d.stats-&gt;setTimeEnd (<span class="stringliteral">&quot;lm-load-&quot;</span> + index_ );</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    previous_ = lmfile_ ( d.sidx );</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    built_ = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <span class="keywordflow">if</span> ( d.klm.find ( lmkey_ ) == d.klm.end() ) d.klm[lmkey_].resize ( index_ + 1 );</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( d.klm[lmkey_].size() &lt; index_ + 1 ) d.klm[lmkey_].resize (</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        index_ + 1 );</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    d.klm[lmkey_][index_] = (<span class="keyword">const</span> <a class="code" href="structucam_1_1fsttools_1_1KenLMData.html">KenLMData</a>*) &amp;kld_;</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    <a class="code" href="logger_8boost__log_8hpp.html#a136d9d772791ddd40a7781b0f6b01dd6">LDEBUG</a> ( <span class="stringliteral">&quot;LM &quot;</span> &lt;&lt; lmfile_ ( d.sidx ) &lt;&lt; <span class="stringliteral">&quot; loaded, key=&quot;</span> &lt;&lt; lmkey_ &lt;&lt;</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;             <span class="stringliteral">&quot;, position=&quot;</span> &lt;&lt;  toString&lt;uint&gt; ( d.klm[lmkey_].size() - 1 ) &lt;&lt;</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;             <span class="stringliteral">&quot;,total number of language models for this key is &quot;</span> &lt;&lt; d.klm[lmkey_].size() );</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;  };</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;</div>
<div class="line"><a name="l00231"></a><span class="lineno"><a class="line" href="classucam_1_1fsttools_1_1LoadLanguageModelTask.html#aba3bf772e7ee360661c193cfeff9fe30">  231</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classucam_1_1fsttools_1_1LoadLanguageModelTask.html#aba3bf772e7ee360661c193cfeff9fe30">close</a>() {</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    <span class="keywordflow">if</span> ( kld_.<a class="code" href="structucam_1_1fsttools_1_1KenLMData.html#adab851678d21f2f8b4e2c0e439b23723">model</a> != NULL ) {</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;      <a class="code" href="logger_8boost__log_8hpp.html#adf127ca2262cc160830da49c37d04e85">LINFO</a> ( <span class="stringliteral">&quot;Releasing language model resources...&quot;</span> );</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;      <span class="keyword">delete</span> kld_.<a class="code" href="structucam_1_1fsttools_1_1KenLMData.html#adab851678d21f2f8b4e2c0e439b23723">model</a>;</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;      kld_.<a class="code" href="structucam_1_1fsttools_1_1KenLMData.html#adab851678d21f2f8b4e2c0e439b23723">model</a> = NULL;</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;      built_ = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    }</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;  }</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;</div>
<div class="line"><a name="l00243"></a><span class="lineno"><a class="line" href="classucam_1_1fsttools_1_1LoadLanguageModelTask.html#ad87654ddc5363ef1bf0349dea77897c4">  243</a></span>&#160;  <a class="code" href="classucam_1_1fsttools_1_1LoadLanguageModelTask.html#ad87654ddc5363ef1bf0349dea77897c4">~LoadLanguageModelTask</a>() {</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    <a class="code" href="classucam_1_1fsttools_1_1LoadLanguageModelTask.html#aba3bf772e7ee360661c193cfeff9fe30">close</a>();</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;  }</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;  <a class="code" href="classucam_1_1fsttools_1_1LoadLanguageModelTask.html#aa0487a790a4d7181bb22c16f1477bdd1">LoadLanguageModelTask</a> ( <span class="keyword">const</span> <a class="code" href="classucam_1_1util_1_1RegistryPO.html">ucam::util::RegistryPO</a>&amp; rg ,</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;                          uint index ,</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;                          <span class="keyword">const</span> std::string&amp; lmload = <a class="code" href="namespaceHifstConstants.html#aa42b4603e57486c7d8509f7495f776fc">HifstConstants::kLmLoad</a>,</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;                          <span class="keyword">const</span> std::string&amp; lmscale = <a class="code" href="namespaceHifstConstants.html#a922a20cdf8305f360766bea0e7790127">HifstConstants::kLmFeatureweights</a> ,</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;                          <span class="keyword">const</span> std::string&amp; lmwp = <a class="code" href="namespaceHifstConstants.html#a746bc28f6755d48e152a1c08ea843c42">HifstConstants::kLmWordPenalty</a>,</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;                          <span class="keyword">const</span> std::string&amp; wordmapkey = <a class="code" href="namespaceHifstConstants.html#a9e5c8ac3695644e1b68f452186684ad2">HifstConstants::kLmWordmap</a></div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;                        ) :</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    rg_ ( rg ),</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    lmkey_ ( lmload ),</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    previous_ ( <span class="stringliteral">&quot;&quot;</span> ),</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    built_ ( false ),</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    index_ ( index ),</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    isintegermapped_ (!rg.<a class="code" href="namespaceucam_1_1util.html#a63f2e665e982de5cc1e2a601cb559de1">exists</a> (wordmapkey)</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;                      || rg.get&lt;std::string&gt; (wordmapkey) == <span class="stringliteral">&quot;&quot;</span>),</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    wordmapkey_ (wordmapkey),</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    lmfile_ ( rg.getVectorString ( lmload , index ) ) {</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <a class="code" href="logger_8boost__log_8hpp.html#adf127ca2262cc160830da49c37d04e85">LINFO</a> ( <span class="stringliteral">&quot;LM loader using parameters &quot;</span> &lt;&lt; lmload &lt;&lt; <span class="stringliteral">&quot;/&quot;</span> &lt;&lt; lmscale &lt;&lt;</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;            <span class="stringliteral">&quot;, and key &quot;</span> &lt;&lt; lmkey_  &lt;&lt; <span class="stringliteral">&quot;,index=&quot;</span> &lt;&lt; index_ &lt;&lt; <span class="stringliteral">&quot;,wordmapkey=&quot;</span> &lt;&lt;</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;            wordmapkey_);</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    setLanguageModelScale ( lmscale );</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    setLanguageModelWordPenalty ( lmwp );</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <span class="keywordflow">if</span> ( rg.<a class="code" href="classucam_1_1util_1_1RegistryPO.html#a498b76353f978a417809cc13bdce9954">getVectorString</a> ( lmload ).size() &gt; index_ + 1 ) {</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;      <a class="code" href="logger_8boost__log_8hpp.html#adf127ca2262cc160830da49c37d04e85">LINFO</a> ( <span class="stringliteral">&quot;Appending Language model...&quot;</span> );</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;      this-&gt;<a class="code" href="classucam_1_1util_1_1TaskInterface.html#ab4cbde1f927b89d774b0dbbcb97f0760">appendTask</a> ( <span class="keyword">new</span> <a class="code" href="classucam_1_1fsttools_1_1LoadLanguageModelTask.html">LoadLanguageModelTask</a> ( rg, index_ + 1, lmload, lmscale ,</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;                         lmwp , wordmapkey ) );</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    }</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    <a class="code" href="logger_8boost__log_8hpp.html#adf127ca2262cc160830da49c37d04e85">LINFO</a> ( <span class="stringliteral">&quot;Ready!&quot;</span> );</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;  };</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;  <span class="keywordtype">void</span> setLanguageModelScale ( <span class="keyword">const</span> std::string&amp; lmscale ) {</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    kld_.<a class="code" href="structucam_1_1fsttools_1_1KenLMData.html#a1db07f7a954b5b263369f4a9eac9c45c">lmscale</a> = 1.0f;</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    <span class="keywordflow">if</span> (!rg_.<a class="code" href="classucam_1_1util_1_1RegistryPO.html#a72d753211a30f0a1720a52e609780b37">exists</a> (lmscale) ) {</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;      <a class="code" href="logger_8boost__log_8hpp.html#a0ffb18b9a8e38dc6c286330ecde7b330">FORCELINFO</a> ( <span class="stringliteral">&quot;Language model scale &quot;</span> &lt;&lt; index_  &lt;&lt; <span class="stringliteral">&quot; defaulting to 1.0f&quot;</span> );</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    }</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    <span class="keywordflow">if</span> (rg_.<a class="code" href="classucam_1_1util_1_1RegistryPO.html#ab0608436641ce579fbfe53480df0d5af">get</a>&lt;std::string&gt; (lmscale) == <span class="stringliteral">&quot;&quot;</span> ) {</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;      <a class="code" href="logger_8boost__log_8hpp.html#a0ffb18b9a8e38dc6c286330ecde7b330">FORCELINFO</a> ( <span class="stringliteral">&quot;Language model scale &quot;</span> &lt;&lt; index_  &lt;&lt; <span class="stringliteral">&quot; defaulting to 1.0f&quot;</span> );</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    }</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    std::string aux = rg_.<a class="code" href="classucam_1_1util_1_1RegistryPO.html#a498b76353f978a417809cc13bdce9954">getVectorString</a> ( lmscale, index_ );</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    kld_.<a class="code" href="structucam_1_1fsttools_1_1KenLMData.html#a1db07f7a954b5b263369f4a9eac9c45c">lmscale</a> = ucam::util::toNumber&lt;float&gt; ( aux );</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    <a class="code" href="logger_8boost__log_8hpp.html#a0ffb18b9a8e38dc6c286330ecde7b330">FORCELINFO</a> (<span class="stringliteral">&quot;Language model scale &quot;</span> &lt;&lt; index_ &lt;&lt; <span class="stringliteral">&quot;=&quot;</span> &lt;&lt; aux );</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;  }</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;  <span class="keywordtype">void</span> setLanguageModelWordPenalty ( <span class="keyword">const</span> std::string&amp; lmwp ) {</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    kld_.<a class="code" href="structucam_1_1fsttools_1_1KenLMData.html#aa8299019ace8755a72f44512241c1ef4">lmwp</a> = 0.0f;</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    <span class="keywordflow">if</span> (!rg_.<a class="code" href="classucam_1_1util_1_1RegistryPO.html#a72d753211a30f0a1720a52e609780b37">exists</a> (lmwp) ) {</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;      <a class="code" href="logger_8boost__log_8hpp.html#a0ffb18b9a8e38dc6c286330ecde7b330">FORCELINFO</a> ( <span class="stringliteral">&quot;Language model word penalty &quot;</span> &lt;&lt; index_  &lt;&lt;</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;                   <span class="stringliteral">&quot; defaulting to 0.0f&quot;</span> );</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    }</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    <span class="keywordflow">if</span> (rg_.<a class="code" href="classucam_1_1util_1_1RegistryPO.html#ab0608436641ce579fbfe53480df0d5af">get</a>&lt;std::string&gt; (lmwp) == <span class="stringliteral">&quot;&quot;</span> ) {</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;      <a class="code" href="logger_8boost__log_8hpp.html#a0ffb18b9a8e38dc6c286330ecde7b330">FORCELINFO</a> ( <span class="stringliteral">&quot;Language model scale &quot;</span> &lt;&lt; index_  &lt;&lt; <span class="stringliteral">&quot; defaulting to 0.0f&quot;</span> );</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    }</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    std::string aux = rg_.<a class="code" href="classucam_1_1util_1_1RegistryPO.html#a498b76353f978a417809cc13bdce9954">getVectorString</a> ( lmwp, index_ );</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    kld_.<a class="code" href="structucam_1_1fsttools_1_1KenLMData.html#aa8299019ace8755a72f44512241c1ef4">lmwp</a> = ucam::util::toNumber&lt;float&gt; ( aux );</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    <a class="code" href="logger_8boost__log_8hpp.html#a0ffb18b9a8e38dc6c286330ecde7b330">FORCELINFO</a> ( <span class="stringliteral">&quot;Language model word penalty &quot;</span> &lt;&lt; index_  &lt;&lt;  <span class="stringliteral">&quot;=&quot;</span> &lt;&lt; aux );</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;  }</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;};</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;}</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;} <span class="comment">// end namespaces</span></div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="ttc" id="structucam_1_1fsttools_1_1KenLMModelHelper_html"><div class="ttname"><a href="structucam_1_1fsttools_1_1KenLMModelHelper.html">ucam::fsttools::KenLMModelHelper</a></div><div class="ttdef"><b>Definition:</b> <a href="task_8loadlm_8hpp_source.html#l00042">task.loadlm.hpp:42</a></div></div>
<div class="ttc" id="classucam_1_1util_1_1PatternAddress_html"><div class="ttname"><a href="classucam_1_1util_1_1PatternAddress.html">ucam::util::PatternAddress</a></div><div class="ttdoc">class that expands a wildcard into its actual value. This is useful e.g. for filenames ranging severa...</div><div class="ttdef"><b>Definition:</b> <a href="addresshandler_8hpp_source.html#l00033">addresshandler.hpp:33</a></div></div>
<div class="ttc" id="kenlmdetect_8hpp_html"><div class="ttname"><a href="kenlmdetect_8hpp.html">kenlmdetect.hpp</a></div></div>
<div class="ttc" id="classucam_1_1util_1_1RegistryPO_html"><div class="ttname"><a href="classucam_1_1util_1_1RegistryPO.html">ucam::util::RegistryPO</a></div><div class="ttdef"><b>Definition:</b> <a href="registrypo_8hpp_source.html#l00095">registrypo.hpp:95</a></div></div>
<div class="ttc" id="classucam_1_1util_1_1RegistryPO_html_a498b76353f978a417809cc13bdce9954"><div class="ttname"><a href="classucam_1_1util_1_1RegistryPO.html#a498b76353f978a417809cc13bdce9954">ucam::util::RegistryPO::getVectorString</a></div><div class="ttdeci">std::vector&lt; std::string &gt; getVectorString(const std::string &amp;key) const </div><div class="ttdoc">Convenience method that returns a vector of strings taking &quot;,&quot; as the separator character. </div><div class="ttdef"><b>Definition:</b> <a href="registrypo_8hpp_source.html#l00245">registrypo.hpp:245</a></div></div>
<div class="ttc" id="logger_8boost__log_8hpp_html_adf127ca2262cc160830da49c37d04e85"><div class="ttname"><a href="logger_8boost__log_8hpp.html#adf127ca2262cc160830da49c37d04e85">LINFO</a></div><div class="ttdeci">#define LINFO(msg)</div><div class="ttdef"><b>Definition:</b> <a href="logger_8boost__log_8hpp_source.html#l00078">logger.boost_log.hpp:78</a></div></div>
<div class="ttc" id="classucam_1_1util_1_1RegistryPO_html_ab0608436641ce579fbfe53480df0d5af"><div class="ttname"><a href="classucam_1_1util_1_1RegistryPO.html#ab0608436641ce579fbfe53480df0d5af">ucam::util::RegistryPO::get</a></div><div class="ttdeci">T get(const std::string &amp;key) const </div><div class="ttdoc">Returns parsed value associated to key. </div><div class="ttdef"><b>Definition:</b> <a href="registrypo_8hpp_source.html#l00194">registrypo.hpp:194</a></div></div>
<div class="ttc" id="hifst__enumerate__vocab_8hpp_html"><div class="ttname"><a href="hifst__enumerate__vocab_8hpp.html">hifst_enumerate_vocab.hpp</a></div><div class="ttdoc">Extend EnumerateVocab to access kenlm ids. </div></div>
<div class="ttc" id="logger_8boost__log_8hpp_html_a0ffb18b9a8e38dc6c286330ecde7b330"><div class="ttname"><a href="logger_8boost__log_8hpp.html#a0ffb18b9a8e38dc6c286330ecde7b330">FORCELINFO</a></div><div class="ttdeci">#define FORCELINFO(msg)</div><div class="ttdef"><b>Definition:</b> <a href="logger_8boost__log_8hpp_source.html#l00079">logger.boost_log.hpp:79</a></div></div>
<div class="ttc" id="structucam_1_1fsttools_1_1KenLMModelHelper_html_ab749679640d656142efa977d6cacaae6"><div class="ttname"><a href="structucam_1_1fsttools_1_1KenLMModelHelper.html#ab749679640d656142efa977d6cacaae6">ucam::fsttools::KenLMModelHelper::KenLMModelHelper</a></div><div class="ttdeci">KenLMModelHelper(std::string const &amp;file, lm::ngram::Config kenlm_config)</div><div class="ttdef"><b>Definition:</b> <a href="task_8loadlm_8hpp_source.html#l00045">task.loadlm.hpp:45</a></div></div>
<div class="ttc" id="classlm_1_1HifstEnumerateVocab_html"><div class="ttname"><a href="classlm_1_1HifstEnumerateVocab.html">lm::HifstEnumerateVocab</a></div><div class="ttdoc">This class extends EnumerateVocab in kenlm code. This class creates a grammar-integer to lm-integer h...</div><div class="ttdef"><b>Definition:</b> <a href="hifst__enumerate__vocab_8hpp_source.html#l00036">hifst_enumerate_vocab.hpp:36</a></div></div>
<div class="ttc" id="logger_8boost__log_8hpp_html_a136d9d772791ddd40a7781b0f6b01dd6"><div class="ttname"><a href="logger_8boost__log_8hpp.html#a136d9d772791ddd40a7781b0f6b01dd6">LDEBUG</a></div><div class="ttdeci">#define LDEBUG(msg)</div><div class="ttdef"><b>Definition:</b> <a href="logger_8boost__log_8hpp_source.html#l00107">logger.boost_log.hpp:107</a></div></div>
<div class="ttc" id="classucam_1_1fsttools_1_1LoadLanguageModelTask_html_aa0487a790a4d7181bb22c16f1477bdd1"><div class="ttname"><a href="classucam_1_1fsttools_1_1LoadLanguageModelTask.html#aa0487a790a4d7181bb22c16f1477bdd1">ucam::fsttools::LoadLanguageModelTask::LoadLanguageModelTask</a></div><div class="ttdeci">LoadLanguageModelTask(const ucam::util::RegistryPO &amp;rg, const std::string &amp;lmload=HifstConstants::kLmLoad, const std::string &amp;lmscale=HifstConstants::kLmFeatureweights, const std::string &amp;lmwp=HifstConstants::kLmWordPenalty, const std::string &amp;wordmapkey=HifstConstants::kLmWordmap, bool forceone=false)</div><div class="ttdoc">Public constructor. If the user wants to load several language models (e.g. ‚Äìlm.load=lm1,lm2,lm3,lm4 and ‚Äìlm.scale=0.25,0.25,0.25 ), the second and following instances of LoadLanguageModelTask will be created using the private constructor (see below), which has an index to the actual language model that must be loaded. For the public constructor, the index is set to 0. </div><div class="ttdef"><b>Definition:</b> <a href="task_8loadlm_8hpp_source.html#l00154">task.loadlm.hpp:154</a></div></div>
<div class="ttc" id="structucam_1_1fsttools_1_1KenLMData_html_a1db07f7a954b5b263369f4a9eac9c45c"><div class="ttname"><a href="structucam_1_1fsttools_1_1KenLMData.html#a1db07f7a954b5b263369f4a9eac9c45c">ucam::fsttools::KenLMData::lmscale</a></div><div class="ttdeci">float lmscale</div><div class="ttdoc">Scales applied to each model. </div><div class="ttdef"><b>Definition:</b> <a href="data_8lm_8hpp_source.html#l00050">data.lm.hpp:50</a></div></div>
<div class="ttc" id="classucam_1_1fsttools_1_1LoadLanguageModelTask_html"><div class="ttname"><a href="classucam_1_1fsttools_1_1LoadLanguageModelTask.html">ucam::fsttools::LoadLanguageModelTask</a></div><div class="ttdoc">Language model loader task, loads a language model wrapping it in a class to provide. </div><div class="ttdef"><b>Definition:</b> <a href="task_8loadlm_8hpp_source.html#l00114">task.loadlm.hpp:114</a></div></div>
<div class="ttc" id="classucam_1_1util_1_1TaskInterface_html"><div class="ttname"><a href="classucam_1_1util_1_1TaskInterface.html">ucam::util::TaskInterface</a></div><div class="ttdoc">Templated (hybrid) Interface for Task classes. </div><div class="ttdef"><b>Definition:</b> <a href="taskinterface_8hpp_source.html#l00037">taskinterface.hpp:37</a></div></div>
<div class="ttc" id="structucam_1_1fsttools_1_1KenLMModelHelper_html_ab415ec43cd90d501129abcf87d62be9c"><div class="ttname"><a href="structucam_1_1fsttools_1_1KenLMModelHelper.html#ab415ec43cd90d501129abcf87d62be9c">ucam::fsttools::KenLMModelHelper::operator()</a></div><div class="ttdeci">KenLMModelT * operator()()</div><div class="ttdef"><b>Definition:</b> <a href="task_8loadlm_8hpp_source.html#l00051">task.loadlm.hpp:51</a></div></div>
<div class="ttc" id="structucam_1_1fsttools_1_1KenLMModelHelper_html_a1eceb3574ddf7951f6ca5e630e25ade7"><div class="ttname"><a href="structucam_1_1fsttools_1_1KenLMModelHelper.html#a1eceb3574ddf7951f6ca5e630e25ade7">ucam::fsttools::KenLMModelHelper::kenlm_config_</a></div><div class="ttdeci">lm::ngram::Config &amp; kenlm_config_</div><div class="ttdef"><b>Definition:</b> <a href="task_8loadlm_8hpp_source.html#l00044">task.loadlm.hpp:44</a></div></div>
<div class="ttc" id="classucam_1_1fsttools_1_1LoadLanguageModelTask_html_a449774425d2dd2eed93c5f42fda471bf"><div class="ttname"><a href="classucam_1_1fsttools_1_1LoadLanguageModelTask.html#a449774425d2dd2eed93c5f42fda471bf">ucam::fsttools::LoadLanguageModelTask::run</a></div><div class="ttdeci">bool run(Data &amp;d)</div><div class="ttdoc">Method inherited from TaskInterface. Loads the language model and stores in lm data structure...</div><div class="ttdef"><b>Definition:</b> <a href="task_8loadlm_8hpp_source.html#l00195">task.loadlm.hpp:195</a></div></div>
<div class="ttc" id="structucam_1_1fsttools_1_1KenLMData_html_aa8299019ace8755a72f44512241c1ef4"><div class="ttname"><a href="structucam_1_1fsttools_1_1KenLMData.html#aa8299019ace8755a72f44512241c1ef4">ucam::fsttools::KenLMData::lmwp</a></div><div class="ttdeci">float lmwp</div><div class="ttdef"><b>Definition:</b> <a href="data_8lm_8hpp_source.html#l00051">data.lm.hpp:51</a></div></div>
<div class="ttc" id="classucam_1_1util_1_1TaskInterface_html_ab4cbde1f927b89d774b0dbbcb97f0760"><div class="ttname"><a href="classucam_1_1util_1_1TaskInterface.html#ab4cbde1f927b89d774b0dbbcb97f0760">ucam::util::TaskInterface::appendTask</a></div><div class="ttdeci">TaskInterface &amp; appendTask(TaskInterface *t)</div><div class="ttdoc">Appends a task class. If there is no task, append here, otherwise delegate in next task...</div><div class="ttdef"><b>Definition:</b> <a href="taskinterface_8hpp_source.html#l00078">taskinterface.hpp:78</a></div></div>
<div class="ttc" id="idbridge_8hpp_html"><div class="ttname"><a href="idbridge_8hpp.html">idbridge.hpp</a></div><div class="ttdoc">maps between grammar targets ids and lm ids </div></div>
<div class="ttc" id="namespaceucam_1_1util_html_a63f2e665e982de5cc1e2a601cb559de1"><div class="ttname"><a href="namespaceucam_1_1util.html#a63f2e665e982de5cc1e2a601cb559de1">ucam::util::exists</a></div><div class="ttdeci">bool exists(const std::string &amp;source, const std::string &amp;needle)</div><div class="ttdoc">Convenience function to find out whether a needle exists in a text. </div><div class="ttdef"><b>Definition:</b> <a href="global__funcs_8hpp_source.html#l00082">global_funcs.hpp:82</a></div></div>
<div class="ttc" id="logger_8boost__log_8hpp_html_a6ffaab1d2d66f7f82bb45ce32e7e48e4"><div class="ttname"><a href="logger_8boost__log_8hpp.html#a6ffaab1d2d66f7f82bb45ce32e7e48e4">LWARN</a></div><div class="ttdeci">#define LWARN(msg)</div><div class="ttdef"><b>Definition:</b> <a href="logger_8boost__log_8hpp_source.html#l00125">logger.boost_log.hpp:125</a></div></div>
<div class="ttc" id="classucam_1_1util_1_1RegistryPO_html_a72d753211a30f0a1720a52e609780b37"><div class="ttname"><a href="classucam_1_1util_1_1RegistryPO.html#a72d753211a30f0a1720a52e609780b37">ucam::util::RegistryPO::exists</a></div><div class="ttdeci">bool exists(const std::string &amp;key) const </div><div class="ttdoc">Determines whether a program option (key) has been defined by the user. </div><div class="ttdef"><b>Definition:</b> <a href="registrypo_8hpp_source.html#l00235">registrypo.hpp:235</a></div></div>
<div class="ttc" id="structucam_1_1fsttools_1_1KenLMData_html"><div class="ttname"><a href="structucam_1_1fsttools_1_1KenLMData.html">ucam::fsttools::KenLMData</a></div><div class="ttdoc">Language Model data structure. </div><div class="ttdef"><b>Definition:</b> <a href="data_8lm_8hpp_source.html#l00035">data.lm.hpp:35</a></div></div>
<div class="ttc" id="namespaceucam_1_1fsttools_html_a83594398c26029ccd4c69e7c7e16fa5c"><div class="ttname"><a href="namespaceucam_1_1fsttools.html#a83594398c26029ccd4c69e7c7e16fa5c">ucam::fsttools::loadKenLm</a></div><div class="ttdeci">lm::base::Model * loadKenLm(std::string const &amp;file, lm::ngram::Config kenlm_config, unsigned offset=0)</div><div class="ttdef"><b>Definition:</b> <a href="task_8loadlm_8hpp_source.html#l00074">task.loadlm.hpp:74</a></div></div>
<div class="ttc" id="namespaceHifstConstants_html_aa42b4603e57486c7d8509f7495f776fc"><div class="ttname"><a href="namespaceHifstConstants.html#aa42b4603e57486c7d8509f7495f776fc">HifstConstants::kLmLoad</a></div><div class="ttdeci">const std::string kLmLoad</div><div class="ttdef"><b>Definition:</b> <a href="constants-fsttools_8hpp_source.html#l00024">constants-fsttools.hpp:24</a></div></div>
<div class="ttc" id="custom__assert_8hpp_html_a9c40815aec8dd07daee741da5b494a35"><div class="ttname"><a href="custom__assert_8hpp.html#a9c40815aec8dd07daee741da5b494a35">USER_CHECK</a></div><div class="ttdeci">#define USER_CHECK(exp, comment)</div><div class="ttdoc">Tests whether exp is true. If not, comment is printed and program ends. </div><div class="ttdef"><b>Definition:</b> <a href="custom__assert_8hpp_source.html#l00041">custom_assert.hpp:41</a></div></div>
<div class="ttc" id="classucam_1_1util_1_1WordMapper_html"><div class="ttname"><a href="classucam_1_1util_1_1WordMapper.html">ucam::util::WordMapper</a></div><div class="ttdoc">Loads efficiently a wordmap file and provides methods to map word-to-integer or integer-to-word. To avoid memory footprint issues, hashing the wordmap entries is avoided. </div><div class="ttdef"><b>Definition:</b> <a href="wordmapper_8hpp_source.html#l00063">wordmapper.hpp:63</a></div></div>
<div class="ttc" id="structucam_1_1fsttools_1_1KenLMModelHelper_html_ad27dccf5bfb5cbb1cf8d6c6594ac1831"><div class="ttname"><a href="structucam_1_1fsttools_1_1KenLMModelHelper.html#ad27dccf5bfb5cbb1cf8d6c6594ac1831">ucam::fsttools::KenLMModelHelper::file_</a></div><div class="ttdeci">std::string const file_</div><div class="ttdef"><b>Definition:</b> <a href="task_8loadlm_8hpp_source.html#l00043">task.loadlm.hpp:43</a></div></div>
<div class="ttc" id="logger_8boost__log_8hpp_html_ad364e6e39b7970e4548d99dc3c0c68cc"><div class="ttname"><a href="logger_8boost__log_8hpp.html#ad364e6e39b7970e4548d99dc3c0c68cc">LERROR</a></div><div class="ttdeci">#define LERROR(msg)</div><div class="ttdef"><b>Definition:</b> <a href="logger_8boost__log_8hpp_source.html#l00119">logger.boost_log.hpp:119</a></div></div>
<div class="ttc" id="structucam_1_1fsttools_1_1KenLMData_html_adab851678d21f2f8b4e2c0e439b23723"><div class="ttname"><a href="structucam_1_1fsttools_1_1KenLMData.html#adab851678d21f2f8b4e2c0e439b23723">ucam::fsttools::KenLMData::model</a></div><div class="ttdeci">lm::base::Model * model</div><div class="ttdoc">KenLM. </div><div class="ttdef"><b>Definition:</b> <a href="data_8lm_8hpp_source.html#l00041">data.lm.hpp:41</a></div></div>
<div class="ttc" id="namespaceHifstConstants_html_a9e5c8ac3695644e1b68f452186684ad2"><div class="ttname"><a href="namespaceHifstConstants.html#a9e5c8ac3695644e1b68f452186684ad2">HifstConstants::kLmWordmap</a></div><div class="ttdeci">const std::string kLmWordmap</div><div class="ttdef"><b>Definition:</b> <a href="constants-fsttools_8hpp_source.html#l00025">constants-fsttools.hpp:25</a></div></div>
<div class="ttc" id="classucam_1_1fsttools_1_1LoadLanguageModelTask_html_ad87654ddc5363ef1bf0349dea77897c4"><div class="ttname"><a href="classucam_1_1fsttools_1_1LoadLanguageModelTask.html#ad87654ddc5363ef1bf0349dea77897c4">ucam::fsttools::LoadLanguageModelTask::~LoadLanguageModelTask</a></div><div class="ttdeci">~LoadLanguageModelTask()</div><div class="ttdoc">Destructor. </div><div class="ttdef"><b>Definition:</b> <a href="task_8loadlm_8hpp_source.html#l00243">task.loadlm.hpp:243</a></div></div>
<div class="ttc" id="namespaceHifstConstants_html_a922a20cdf8305f360766bea0e7790127"><div class="ttname"><a href="namespaceHifstConstants.html#a922a20cdf8305f360766bea0e7790127">HifstConstants::kLmFeatureweights</a></div><div class="ttdeci">const std::string kLmFeatureweights</div><div class="ttdef"><b>Definition:</b> <a href="constants-fsttools_8hpp_source.html#l00023">constants-fsttools.hpp:23</a></div></div>
<div class="ttc" id="structucam_1_1fsttools_1_1KenLMData_html_abfbfe30695967d958c54e559e02a9a07"><div class="ttname"><a href="structucam_1_1fsttools_1_1KenLMData.html#abfbfe30695967d958c54e559e02a9a07">ucam::fsttools::KenLMData::idb</a></div><div class="ttdeci">IdBridge idb</div><div class="ttdef"><b>Definition:</b> <a href="data_8lm_8hpp_source.html#l00048">data.lm.hpp:48</a></div></div>
<div class="ttc" id="namespaceHifstConstants_html_a746bc28f6755d48e152a1c08ea843c42"><div class="ttname"><a href="namespaceHifstConstants.html#a746bc28f6755d48e152a1c08ea843c42">HifstConstants::kLmWordPenalty</a></div><div class="ttdeci">const std::string kLmWordPenalty</div><div class="ttdef"><b>Definition:</b> <a href="constants-fsttools_8hpp_source.html#l00026">constants-fsttools.hpp:26</a></div></div>
<div class="ttc" id="classucam_1_1fsttools_1_1LoadLanguageModelTask_html_aba3bf772e7ee360661c193cfeff9fe30"><div class="ttname"><a href="classucam_1_1fsttools_1_1LoadLanguageModelTask.html#aba3bf772e7ee360661c193cfeff9fe30">ucam::fsttools::LoadLanguageModelTask::close</a></div><div class="ttdeci">bool close()</div><div class="ttdoc">Free language model resources. Returns true if ok, false if otherwise. </div><div class="ttdef"><b>Definition:</b> <a href="task_8loadlm_8hpp_source.html#l00231">task.loadlm.hpp:231</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_50e51117890340b28282408992e468ca.html">ucam-smt</a></li><li class="navelem"><a class="el" href="dir_d7d991af214d724d4540f27706318238.html">cpp</a></li><li class="navelem"><a class="el" href="dir_730877f07231f611a0320f667012676b.html">fsttools</a></li><li class="navelem"><a class="el" href="dir_4a7aef02fe7a5aa4ce866b84a1441250.html">include</a></li><li class="navelem"><a class="el" href="task_8loadlm_8hpp.html">task.loadlm.hpp</a></li>
    <li class="footer">Generated on Wed Feb 18 2015 21:05:07 for Cambridge SMT System by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
